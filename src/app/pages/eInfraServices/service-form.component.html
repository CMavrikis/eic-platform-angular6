<div class="uk-section-default uk-section uk-section-small uk-padding-remove-bottom" style="min-height: 325px">
  <div class="uk-container">
    <div class="uk-grid-margin uk-grid uk-grid-stack" uk-grid="">
      <div class="uk-width-1-1@m uk-first-column">
        <!--<h1 class="uk-h2">FAQs</h1>-->
        <!--<h3 class="uk-h2">{{editMode ? "Edit":"Add"}} an eInfraCentral service</h3>-->
        <h2 class="uk-text-center uk-h2 uk-scrollspy-inview uk-animation-slide-bottom-small" uk-scrollspy-class=""
            style="">
          <img class="el-image uk-border-rounded"
               src="{{(serviceForm && serviceForm.get('logo').value) ? serviceForm.get('logo').value : 'http://fvtelibrary.com/img/user/NoLogo.png'}}"
               width="50">
          {{editMode ? "Edit" : "Add"}} a {{serviceName}} service
        </h2>
        <!--<hr class="uk-divider-icon uk-scrollspy-inview uk-animation-slide-bottom-small" uk-scrollspy-class="" style="">-->
        <!--<hr class="uk-divider-small">-->

        <!-- TOP HELP CONTENT -->
        <app-help-content #topHelperContent [position]="'top'"
                          [ngClass]="topHelperContent.isPresent()?'uk-margin-medium-top uk-margin-medium-bottom':'clear-style'">
        </app-help-content>
        <div class="uk-container uk-margin-medium-top uk-margin-medium-bottom">
          <div class="uk-grid">
            <!-- LEFT HELP CONTENT -->
            <app-aside-help-content #leftHelperContent [position]="'left'"
                                    [ngClass]="leftHelperContent.isPresent()?'tm-sidebar uk-width-1-4@m uk-first-column':'clear-style'">
            </app-aside-help-content>
            <!-- MIDDLE -->
            <div class=" uk-width-expand@m">
              <div class="middle-box animated fadeInDown ">
                <div id="serviceForm">
                  <div *ngIf="errorMessage" data-uk-alert="" class="uk-alert uk-alert-danger">
                    <p>{{errorMessage}}</p>
                  </div>
                  <div *ngIf="successMessage" data-uk-alert="" class="uk-alert uk-alert-success">
                    <p>{{successMessage}}</p>
                  </div>
                  <form [formGroup]="serviceForm" role="form" class="m-t"
                        (ngSubmit)="onSubmit(serviceForm.value, serviceForm.valid)">

                    <ul uk-accordion="multiple: true">

                      <li accordionSection class="uk-open uk-margin-large-bottom" [title]="'Basic Information'">
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{nameDesc.label + (nameDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <input class="uk-input" type="text" formControlName="name"
                                   [ngClass]="{'uk-form-danger': !serviceForm.get('name').valid && serviceForm.get('name').dirty}">
                            <i>
                              <small>{{nameDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{urlDesc.label + (urlDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <input class="uk-input" type="text" formControlName="url"
                                   [ngClass]="{'uk-form-danger': !serviceForm.get('url').valid && serviceForm.get('url').dirty}">
                            <i>
                              <small>{{urlDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{descriptionDesc.label + (descriptionDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <ckeditor
                              [readonly]="false"
                              debounce="500"
                              formControlName="description"
                              [config]="{extraPlugins: 'divarea',allowedContent: true,extraAllowedContent : '*(*)'}">
                              <!--id="contentTag"-->
                              <!--(ready)="onReady($event)"-->
                              <!--(focus)="onFocus($event)"-->
                              <!--[config]="{uiColor: '#99000'}"-->
                              <!--(blur)="onBlur($event)"-->
                              <!--(change)="onChange($event)"-->
                            </ckeditor>
                            <i>
                              <small>{{descriptionDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{logoDesc.label + (logoDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <input class="uk-input" type="text" formControlName="logo"
                                   [ngClass]="{'uk-form-danger': !serviceForm.get('logo').valid && serviceForm.get('logo').dirty}">
                            <i>
                              <small>{{logoDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{taglineDesc.label + (taglineDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <input class="uk-input" type="text" formControlName="tagline"
                                   [ngClass]="{'uk-form-danger': !serviceForm.get('tagline').valid && serviceForm.get('tagline').dirty}">
                            <i>
                              <small>{{taglineDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{userValueDesc.label + (userValueDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <textarea class="uk-textarea" type="text" formControlName="userValue" rows="4"
                                      [ngClass]="{'uk-form-danger': !serviceForm.get('userValue').valid && serviceForm.get('userValue').dirty}">
                            </textarea>
                            <i>
                              <small>{{userValueDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div formArrayName="userBaseList" class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{userBaseDesc.label + (userBaseDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <div *ngFor="let provider of getFieldAsFormArray('userBaseList').controls; let i=index">
                              <input class="uk-input uk-width-5-6" type="text" [formControlName]="i"
                                     [ngClass]="{'uk-form-danger': !getFieldAsFormArray('userBaseList').get([i]).valid && getFieldAsFormArray('userBaseList').get([i]).dirty}">
                              <a *ngIf="getFieldAsFormArray('userBaseList').length > 1"
                                 class="remove-element uk-padding-small" (click)="remove('userBaseList', i)">
                                <i class="fa fa-times" aria-hidden="true"></i>
                              </a>
                            </div>
                            <div class="uk-width-1-1">
                              <a class="add-new-element" (click)="push('userBaseList', false, false)">
                                <i class="fa fa-plus" aria-hidden="true"></i> Add {{userBaseDesc.label}}
                              </a>
                            </div>
                            <i>
                              <small>{{userBaseDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div formArrayName="useCases" class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{useCasesDesc.label + (useCasesDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <div *ngFor="let provider of getFieldAsFormArray('useCases').controls; let i=index">
                              <input class="uk-input uk-width-5-6" type="text" [formControlName]="i"
                                     [ngClass]="{'uk-form-danger': !getFieldAsFormArray('useCases').get([i]).valid && getFieldAsFormArray('useCases').get([i]).dirty}">
                              <a *ngIf="getFieldAsFormArray('useCases').length > 1"
                                 class="remove-element uk-padding-small" (click)="remove('useCases', i)">
                                <i class="fa fa-times" aria-hidden="true"></i>
                              </a>
                            </div>
                            <div class="uk-width-1-1">
                              <a class="add-new-element" (click)="push('useCases', false, false)">
                                <i class="fa fa-plus" aria-hidden="true"></i> Add {{useCasesDesc.label}}
                              </a>
                            </div>
                            <i>
                              <small>{{useCasesDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div formArrayName="multimediaUrls" class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{multimediaURLDesc.label + (multimediaURLDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <div *ngFor="let provider of getFieldAsFormArray('multimediaUrls').controls; let i=index">
                              <input class="uk-input uk-width-5-6" type="text" [formControlName]="i"
                                     [ngClass]="{'uk-form-danger': !getFieldAsFormArray('multimediaUrls').get([i]).valid && getFieldAsFormArray('multimediaUrls').get([i]).dirty}">
                              <a *ngIf="getFieldAsFormArray('multimediaUrls').length > 1"
                                 class="remove-element uk-padding-small" (click)="remove('multimediaUrls', i)">
                                <i class="fa fa-times" aria-hidden="true"></i>
                              </a>
                            </div>
                            <div class="uk-width-1-1">
                              <a class="add-new-element" (click)="push('multimediaUrls', false, false)">
                                <i class="fa fa-plus" aria-hidden="true"></i> Add {{multimediaURLDesc.label}}
                              </a>
                            </div>
                            <i>
                              <small>{{multimediaURLDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div formArrayName="options" class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{optionsDesc.label + (optionsDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <div *ngFor="let option of getFieldAsFormArray('options').controls; let i=index">
                              <div [formGroupName]="i" class="uk-margin-small-bottom" style="border: 1px dashed #cccccc; padding-right: 10px">
                                <a class="remove-element uk-padding-small"
                                   (click)="remove('options', i)">
                                  <i class="fa fa-times" aria-hidden="true"></i>
                                </a>
                                <div class="uk-form-horizontal uk-margin-bottom">
                                  <label class="uk-width-1-5 uk-form-label uk-text-right" for="name">
                                    {{optionsNameDesc.label + (optionsNameDesc.mandatory ? ' (*)' : '')}}
                                  </label>
                                  <div class="uk-form-controls">
                                    <input class="uk-input" type="text" id="name" formControlName="name"
                                           [ngClass]="{'uk-form-danger': !getFieldAsFormArray('options').controls[i].get('name').valid && getFieldAsFormArray('options').controls[i].get('name').dirty}">
                                    <i>
                                      <small>{{optionsNameDesc.desc}}</small>
                                    </i>
                                  </div>
                                </div>
                                <div class="uk-form-horizontal uk-margin-bottom">
                                  <label class="uk-width-1-5 uk-form-label uk-text-right" for="url">
                                    {{optionsURLDesc.label + (optionsURLDesc.mandatory ? ' (*)' : '')}}
                                  </label>
                                  <div class="uk-form-controls">
                                    <input class="uk-input" type="text" id="url" formControlName="url"
                                           [ngClass]="{'uk-form-danger': !getFieldAsFormArray('options').controls[i].get('url').valid && getFieldAsFormArray('options').controls[i].get('url').dirty}">
                                    <i>
                                      <small>{{optionsURLDesc.desc}}</small>
                                    </i>
                                  </div>
                                </div>
                                <div class="uk-form-horizontal uk-margin-bottom">
                                  <label class="uk-width-1-5 uk-form-label uk-text-right" for="description">
                                    {{optionsDescriptionDesc.label + (optionsDescriptionDesc.mandatory ? ' (*)' : '')}}
                                  </label>
                                  <div class="uk-form-controls">
                                    <textarea class="uk-textarea" type="text" id="description" rows="2"
                                              formControlName="description"
                                              [ngClass]="{'uk-form-danger': !getFieldAsFormArray('options').controls[i].get('description').valid && getFieldAsFormArray('options').controls[i].get('description').dirty}">
                                    </textarea>
                                    <i>
                                      <small>{{optionsDescriptionDesc.desc}}</small>
                                    </i>
                                  </div>
                                </div>
                                <div class="uk-form-horizontal uk-margin-bottom">
                                  <label class="uk-width-1-5 uk-form-label uk-text-right" for="logo">
                                    {{optionsLogoDesc.label + (optionsLogoDesc.mandatory ? ' (*)' : '')}}
                                  </label>
                                  <div class="uk-form-controls">
                                    <input class="uk-input" type="text" id="logo" formControlName="logo"
                                           [ngClass]="{'uk-form-danger': !getFieldAsFormArray('options').controls[i].get('logo').valid && getFieldAsFormArray('options').controls[i].get('logo').dirty}">
                                    <i>
                                      <small>{{optionsLogoDesc.desc}}</small>
                                    </i>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="uk-width-1-1">
                              <a class="add-new-element" (click)="pushOption()">
                                <i class="fa fa-plus" aria-hidden="true"></i> Add {{optionsDesc.label}}
                              </a>
                            </div>
                            <i>
                              <small>{{optionsDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div formArrayName="requiredServices" class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-flex-first uk-form-label uk-text-right">
                            {{requiredServicesDesc.label + (requiredServicesDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div *ngIf="requiredServices" class="uk-width-4-5 uk-form-controls">
                            <div *ngFor="let provider of getFieldAsFormArray('requiredServices').controls; let i=index">
                              <select *ngIf="providersPage" class="uk-select uk-width-5-6" [formControlName]="i"
                                      [ngClass]="{'uk-form-danger': !getFieldAsFormArray('requiredServices').get([i]).valid && getFieldAsFormArray('requiredServices').get([i]).dirty}">
                                <option *ngFor="let reqService of requiredServices | keys" value="{{reqService}}">
                                  {{requiredServices[reqService]}}
                                </option>
                              </select>
                              <a *ngIf="getFieldAsFormArray('requiredServices').length > 1"
                                 class="remove-element uk-padding-small" (click)="remove('requiredServices', i)">
                                <i class="fa fa-times" aria-hidden="true"></i>
                              </a>
                            </div>
                            <div class="uk-width-1-1">
                              <a class="add-new-element" (click)="push('requiredServices', false)">
                                <i class="fa fa-plus" aria-hidden="true"></i> Add {{requiredServicesDesc.label}}
                              </a>
                            </div>
                            <i>
                              <small>{{requiredServicesDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div formArrayName="relatedServices" class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-flex-first uk-form-label uk-text-right">
                            {{relatedServicesDesc.label + (relatedServicesDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div *ngIf="relatedServices" class="uk-width-4-5 uk-form-controls">
                            <div *ngFor="let provider of getFieldAsFormArray('relatedServices').controls; let i=index">
                              <select *ngIf="providersPage" class="uk-select uk-width-5-6" [formControlName]="i"
                                      [ngClass]="{'uk-form-danger': !getFieldAsFormArray('relatedServices').get([i]).valid && getFieldAsFormArray('relatedServices').get([i]).dirty}">
                                <option *ngFor="let reqService of relatedServices | keys" value="{{reqService}}">
                                  {{relatedServices[reqService]}}
                                </option>
                              </select>
                              <a *ngIf="getFieldAsFormArray('relatedServices').length > 1"
                                class="remove-element uk-padding-small" (click)="remove('relatedServices', i)">
                                <i class="fa fa-times" aria-hidden="true"></i>
                              </a>
                            </div>
                            <div class="uk-width-1-1">
                              <a class="add-new-element" (click)="push('relatedServices', false)">
                                <i class="fa fa-plus" aria-hidden="true"></i> Add {{relatedServicesDesc.label}}
                              </a>
                            </div>
                            <i>
                              <small>{{relatedServicesDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                      </li>
                      <li accordionSection class="uk-margin-large-bottom" [title]="'Classification Information'">

                        <!--IF NOT IN THE AddFirstService PAGE - SHOW THE LIST OF PROVIDERS-->
                        <div *ngIf="!firstServiceForm" formArrayName="providers"
                             class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-flex-first uk-form-label uk-text-right">
                            {{providersDesc.label + (providersDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <div *ngFor="let provider of getFieldAsFormArray('providers').controls; let i=index">
                              <select *ngIf="providersPage" class="uk-select uk-width-5-6" [formControlName]="i"
                                      [ngClass]="{'uk-form-danger': !getFieldAsFormArray('providers').get([i]).valid && getFieldAsFormArray('providers').get([i]).dirty}">
                                <option *ngFor="let provider of providersPage.results"
                                        value="{{provider.id}}">{{provider.name}}</option>
                              </select>
                              <a *ngIf="getFieldAsFormArray('providers').length > 1"
                                 class="remove-element uk-padding-small" (click)="remove('providers', i)">
                                <i class="fa fa-times" aria-hidden="true"></i>
                              </a>
                            </div>
                            <div class="uk-width-1-1">
                              <a class="add-new-element" (click)="push('providers', true)">
                                <i class="fa fa-plus" aria-hidden="true"></i> Add {{providersDesc.label}}
                              </a>
                            </div>
                            <i>
                              <small>{{providersDesc.desc}}</small>
                            </i>
                          </div>
                        </div>

                        <!--IF IN THE AddFirstService PAGE - SHOW THE CURRENT PROVIDER-->
                        <div *ngIf="firstServiceForm" class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{providersDesc.label + (providersDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <span class="uk-input">{{ getFieldAsFormArray('providers').get([0]).value }}</span>
                            <i>
                              <small>{{providersDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            Scientific Domain (*)
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <div formArrayName="scientificCategorization" *ngFor="let category of scientificDomainArray.controls; let i = index">
                              <div [formGroupName]="i" class="uk-margin-small-bottom" style="border: 1px dashed #cccccc; padding-right: 10px">
                                <a *ngIf="scientificDomainArray.length > 1" class="remove-element uk-padding-small"
                                   (click)="removeScientificDomain(i)">
                                  <i class="fa fa-times" aria-hidden="true"></i>
                                </a>

                                <div *ngIf="scientificDomainVocabulary" class="uk-form-horizontal uk-margin-bottom">
                                  <label class="uk-width-1-5 uk-form-label uk-text-right">
                                    {{scientificDomainDesc.label + (scientificDomainDesc.mandatory ? ' (*)' : '')}}
                                  </label>
                                  <div class="uk-form-controls">
                                    <select formControlName="scientificDomain" class="uk-select" (change)="onScientificDomainChange(i)"
                                            [ngClass]="{'uk-form-danger': !scientificDomainArray.controls[i].get('scientificDomain').valid && scientificDomainArray.controls[i].get('scientificDomain').dirty}">
                                      <option *ngFor="let entry of sortVocabulariesByName(scientificDomainVocabulary)"
                                              value="{{entry.id}}">{{entry.name}}
                                      </option>
                                    </select>
                                    <i>
                                      <small>{{scientificDomainDesc.desc}}</small>
                                    </i>
                                  </div>
                                </div>

                                <div *ngIf="scientificSubDomainVocabulary" class="uk-form-horizontal uk-margin-bottom">
                                  <label class="uk-width-1-5 uk-form-label uk-text-right">
                                    {{scientificSubDomainDesc.label + (scientificSubDomainDesc.mandatory ? ' (*)' : '')}}
                                  </label>
                                  <div class="uk-form-controls">
                                    <select formControlName="scientificSubDomain" class="uk-select"
                                            [ngClass]="{'uk-form-danger': !scientificDomainArray.controls[i].get('scientificSubDomain').valid && scientificDomainArray.controls[i].get('scientificSubDomain').dirty}">
                                      <ng-container *ngIf="scientificDomainArray.controls[i].get('scientificDomain').value">
                                        <option value="">--Choose Scientific Subdomain--</option>
                                        <option
                                          *ngFor="let entry of getSortedChildrenCategories(scientificSubDomainVocabulary, scientificDomainArray.controls[i].get('scientificDomain').value)"
                                          value="{{entry.id}}">
                                          {{entry.name}}
                                        </option>
                                      </ng-container>
                                    </select>
                                    <i>
                                      <small>{{scientificSubDomainDesc.desc}}</small>
                                    </i>
                                  </div>
                                </div>

                              </div>
                            </div>
                          </div>

                          <div class="uk-form-controls">
                            <a class="add-new-element" (click)="pushScientificDomain()">
                              <i class="fa fa-plus" aria-hidden="true"></i> Add another scientific domain
                            </a>
                          </div>

                        </div>
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            Categorization (*)
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <div formArrayName="categorize" *ngFor="let category of categoryArray.controls; let i = index">
                              <div [formGroupName]="i" class="uk-margin-small-bottom" style="border: 1px dashed #cccccc; padding-right: 10px">
                                <a *ngIf="categoryArray.length > 1" class="remove-element uk-padding-small"
                                   (click)="removeCategory(i)">
                                  <i class="fa fa-times" aria-hidden="true"></i>
                                </a>

                                <div *ngIf="superCategoriesVocabulary" class="uk-form-horizontal uk-margin-bottom">
                                  <label class="uk-width-1-5 uk-form-label uk-text-right">
                                    {{superCategoryDesc.label + (superCategoryDesc.mandatory ? ' (*)' : '')}}
                                  </label>
                                  <div class="uk-form-controls">
                                    <select formControlName="supercategory" class="uk-select" (change)="onSuperCategoryChange(i)"
                                            [ngClass]="{'uk-form-danger': !categoryArray.controls[i].get('supercategory').valid && categoryArray.controls[i].get('supercategory').dirty}">
                                      <option *ngFor="let entry of sortVocabulariesByName(superCategoriesVocabulary)"
                                              value="{{entry.id}}">{{entry.name}}
                                      </option>
                                    </select>
                                    <i>
                                      <small>{{superCategoryDesc.desc}}</small>
                                    </i>
                                  </div>
                                </div>

                                <div *ngIf="categoriesVocabulary" class="uk-form-horizontal uk-margin-bottom">
                                  <label class="uk-width-1-5 uk-form-label uk-text-right">
                                    {{categoryDesc.label + (categoryDesc.mandatory ? ' (*)' : '')}}
                                  </label>
                                  <div class="uk-form-controls">
                                    <select formControlName="category" class="uk-select" (change)="onCategoryChange(i)"
                                            [ngClass]="{'uk-form-danger': !categoryArray.controls[i].get('category').valid && categoryArray.controls[i].get('category').dirty}">
                                      <ng-container *ngIf="categoryArray.controls[i].get('supercategory').value">
                                        <option value="">--Choose Category--</option>
                                        <option
                                          *ngFor="let entry of getSortedChildrenCategories(categoriesVocabulary, categoryArray.controls[i].get('supercategory').value)"
                                          value="{{entry.id}}">
                                          {{entry.name}}
                                        </option>
                                      </ng-container>
                                    </select>
                                    <i>
                                      <small>{{categoryDesc.desc}}</small>
                                    </i>
                                  </div>
                                </div>

                                <div *ngIf="subCategoriesVocabulary" class="uk-form-horizontal uk-margin-bottom">
                                  <label class="uk-width-1-5 uk-form-label uk-text-right">
                                    {{subcategoryDesc.label + (subcategoryDesc.mandatory ? ' (*)' : '')}}
                                  </label>
                                  <div class="uk-form-controls">
                                    <select formControlName="subcategory" class="uk-select"
                                            [ngClass]="{'uk-form-danger': !categoryArray.controls[i].get('subcategory').valid && categoryArray.controls[i].get('subcategory').dirty}">
                                      <ng-container *ngIf="categoryArray.controls[i].get('category').value">
                                        <option value="">--Choose subcategory--</option>
                                        <option
                                          *ngFor="let entry of getSortedChildrenCategories(subCategoriesVocabulary, categoryArray.controls[i].get('category').value)"
                                          value="{{entry.id}}">
                                          {{entry.name}}
                                        </option>
                                      </ng-container>
                                    </select>
                                    <i>
                                      <small>{{subcategoryDesc.desc}}</small>
                                    </i>
                                  </div>
                                </div>

                              </div>
                            </div>
                          </div>

                          <div class="uk-form-controls">
                            <a class="add-new-element" (click)="pushCategory()">
                              <i class="fa fa-plus" aria-hidden="true"></i> Add another category
                            </a>
                          </div>

                        </div>
                        <div formArrayName="targetUsers" class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-flex-first uk-form-label uk-text-right">
                            {{targetUsersDesc.label + (targetUsersDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <div *ngFor="let provider of getFieldAsFormArray('targetUsers').controls; let i=index">
                              <select *ngIf="providersPage" class="uk-select uk-width-5-6" [formControlName]="i"
                                      [ngClass]="{'uk-form-danger': !getFieldAsFormArray('targetUsers').get([i]).valid && getFieldAsFormArray('targetUsers').get([i]).dirty}">
                                <option *ngFor="let entry of sortVocabulariesByName(targetUsers)" value="{{entry.id}}">
                                  {{entry.name}}
                                </option>
                              </select>
                              <a *ngIf="getFieldAsFormArray('targetUsers').length > 1"
                                 class="remove-element uk-padding-small" (click)="remove('targetUsers', i)">
                                <i class="fa fa-times" aria-hidden="true"></i>
                              </a>
                            </div>
                            <div class="uk-width-1-1">
                              <a class="add-new-element" (click)="push('targetUsers', true)">
                                <i class="fa fa-plus" aria-hidden="true"></i> Add {{targetUsersDesc.label}}
                              </a>
                            </div>
                            <i>
                              <small>{{targetUsersDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div formArrayName="languages" class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-flex-first uk-form-label uk-text-right">
                            {{languagesDesc.label + (languagesDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <div *ngFor="let provider of getFieldAsFormArray('languages').controls; let i=index">
                              <select *ngIf="providersPage" class="uk-select uk-width-5-6" [formControlName]="i"
                                      [ngClass]="{'uk-form-danger': !getFieldAsFormArray('languages').get([i]).valid && getFieldAsFormArray('languages').get([i]).dirty}">
                                <option *ngFor="let entry of languagesVocIdArray | premiumsort:['english']"
                                        value="{{getVocabularyById(languagesVocabulary, entry).id}}">
                                  {{getVocabularyById(languagesVocabulary, entry).name}}
                                </option>
                              </select>
                              <a *ngIf="getFieldAsFormArray('languages').length > 1"
                                 class="remove-element uk-padding-small" (click)="remove('languages', i)">
                                <i class="fa fa-times" aria-hidden="true"></i>
                              </a>
                            </div>
                            <div class="uk-width-1-1">
                              <a class="add-new-element" (click)="push('languages', true)">
                                <i class="fa fa-plus" aria-hidden="true"></i> Add {{languagesDesc.label}}
                              </a>
                            </div>
                            <i>
                              <small>{{languagesDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div formArrayName="places" class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-flex-first uk-form-label uk-text-right">
                            {{placesDesc.label + (placesDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <div *ngFor="let provider of getFieldAsFormArray('places').controls; let i=index">
                              <select *ngIf="providersPage" class="uk-select uk-width-5-6" [formControlName]="i"
                                      [ngClass]="{'uk-form-danger': !getFieldAsFormArray('places').get([i]).valid && getFieldAsFormArray('places').get([i]).dirty}">
                                <option *ngFor="let entry of placesVocIdArray | premiumsort:['EU', 'WW']"
                                        value="{{getVocabularyById(placesVocabulary, entry).id}}">
                                  {{getVocabularyById(placesVocabulary, entry).name}}
                                </option>
                              </select>
                              <a *ngIf="getFieldAsFormArray('places').length > 1"
                                 class="remove-element uk-padding-small" (click)="remove('places', i)">
                                <i class="fa fa-times" aria-hidden="true"></i>
                              </a>
                            </div>
                            <div class="uk-width-1-1">
                              <a class="add-new-element" (click)="push('places', true)">
                                <i class="fa fa-plus" aria-hidden="true"></i> Add {{placesDesc.label}}
                              </a>
                            </div>
                            <i>
                              <small>{{placesDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div *ngIf="accessTypesVocabulary" formArrayName="accessTypes" class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-flex-first uk-form-label uk-text-right">
                            {{accessTypesDesc.label + (accessTypesDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <div *ngFor="let provider of getFieldAsFormArray('accessTypes').controls; let i=index">
                              <select *ngIf="providersPage" class="uk-select uk-width-5-6" [formControlName]="i"
                                      [ngClass]="{'uk-form-danger': !getFieldAsFormArray('accessTypes').get([i]).valid && getFieldAsFormArray('accessTypes').get([i]).dirty}">
                                <option *ngFor="let entry of sortVocabulariesByName(accessTypesVocabulary)" value="{{entry.id}}">
                                  {{entry.name}}
                                </option>
                              </select>
                              <a *ngIf="getFieldAsFormArray('accessTypes').length > 1"
                                 class="remove-element uk-padding-small" (click)="remove('accessTypes', i)">
                                <i class="fa fa-times" aria-hidden="true"></i>
                              </a>
                            </div>
                            <div class="uk-width-1-1">
                              <a class="add-new-element" (click)="push('accessTypes', true)">
                                <i class="fa fa-plus" aria-hidden="true"></i> Add {{accessTypesDesc.label}}
                              </a>
                            </div>
                            <i>
                              <small>{{accessTypesDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div *ngIf="accessModesVocabulary" formArrayName="accessModes" class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-flex-first uk-form-label uk-text-right">
                            {{accessModesDesc.label + (accessModesDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <div *ngFor="let provider of getFieldAsFormArray('accessModes').controls; let i=index">
                              <select *ngIf="providersPage" class="uk-select uk-width-5-6" [formControlName]="i"
                                      [ngClass]="{'uk-form-danger': !getFieldAsFormArray('accessModes').get([i]).valid && getFieldAsFormArray('accessModes').get([i]).dirty}">
                                <option *ngFor="let entry of sortVocabulariesByName(accessModesVocabulary)" value="{{entry.id}}">
                                  {{entry.name}}
                                </option>
                              </select>
                              <a *ngIf="getFieldAsFormArray('accessModes').length > 1"
                                 class="remove-element uk-padding-small" (click)="remove('accessModes', i)">
                                <i class="fa fa-times" aria-hidden="true"></i>
                              </a>
                            </div>
                            <div class="uk-width-1-1">
                              <a class="add-new-element" (click)="push('accessModes', true)">
                                <i class="fa fa-plus" aria-hidden="true"></i> Add {{accessModesDesc.label}}
                              </a>
                            </div>
                            <i>
                              <small>{{accessModesDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div formArrayName="funders" class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-flex-first uk-form-label uk-text-right">
                            {{fundersDesc.label + (fundersDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <div *ngFor="let provider of getFieldAsFormArray('funders').controls; let i=index">
                              <select *ngIf="providersPage" class="uk-select uk-width-5-6" [formControlName]="i"
                                      [ngClass]="{'uk-form-danger': !getFieldAsFormArray('funders').get([i]).valid && getFieldAsFormArray('funders').get([i]).dirty}">
                                <option *ngFor="let entry of sortVocabulariesByName(fundersVocabulary)" value="{{entry.id}}">
                                  {{entry.name}}
                                </option>
                              </select>
                              <a *ngIf="getFieldAsFormArray('funders').length > 1"
                                 class="remove-element uk-padding-small" (click)="remove('funders', i)">
                                <i class="fa fa-times" aria-hidden="true"></i>
                              </a>
                            </div>
                            <div class="uk-width-1-1">
                              <a class="add-new-element" (click)="push('funders', true)">
                                <i class="fa fa-plus" aria-hidden="true"></i> Add {{fundersDesc.label}}
                              </a>
                            </div>
                            <i>
                              <small>{{fundersDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div formArrayName="tags" class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-flex-first uk-form-label uk-text-right">
                            {{tagsDesc.label + (tagsDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <div *ngFor="let provider of getFieldAsFormArray('tags').controls; let i=index">
                              <input class="uk-input uk-width-5-6" type="text" [formControlName]="i"
                                     [ngClass]="{'uk-form-danger': !getFieldAsFormArray('tags').get([i]).valid && getFieldAsFormArray('tags').get([i]).dirty}">
                              <a *ngIf="getFieldAsFormArray('tags').length > 1"
                                 class="remove-element uk-padding-small" (click)="remove('tags', i)">
                                <i class="fa fa-times" aria-hidden="true"></i>
                              </a>
                            </div>
                            <div class="uk-width-1-1">
                              <a class="add-new-element" (click)="push('tags', false)">
                                <i class="fa fa-plus" aria-hidden="true"></i> Add {{tagsDesc.label}}
                              </a>
                            </div>
                            <i>
                              <small>{{tagsDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                      </li>
                      <li accordionSection class="uk-margin-large-bottom" [title]="'Maturity Information'">
                        <div *ngIf="phaseVocabulary" class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{phaseDesc.label + (phaseDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <select formControlName="phase" class="uk-select"
                                    [ngClass]="{'uk-form-danger': !serviceForm.get('phase').valid && serviceForm.get('phase').dirty}">
                              <option *ngFor="let entry of sortVocabulariesByName(phaseVocabulary)"
                                      value="{{entry.id}}">
                                {{entry.name}}
                              </option>
                            </select>
                            <i>
                              <small>{{phaseDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div *ngIf="trlVocabulary" class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{trlDesc.label + (trlDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <select formControlName="trl" class="uk-select"
                                    [ngClass]="{'uk-form-danger': !serviceForm.get('trl').valid && serviceForm.get('trl').dirty}">
                              <option *ngFor="let entry of sortVocabulariesByName(trlVocabulary)"
                                      value="{{entry.id}}">
                                {{entry.name}}
                              </option>
                            </select>
                            <i>
                              <small>{{trlDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{versionDesc.label + (versionDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <input maxlength="10" class="uk-input" type="text" formControlName="version"
                                   [ngClass]="{'uk-form-danger': !serviceForm.get('version').valid && serviceForm.get('version').dirty}">
                            <i>
                              <small>{{versionDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{lastUpdateDesc.label + (lastUpdateDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <input class="uk-input" type="text" onfocus="(this.type = 'date')"
                                   formControlName="lastUpdate"
                                   [ngClass]="{'uk-form-danger': !serviceForm.get('lastUpdate').valid && serviceForm.get('lastUpdate').dirty}">
                            <i>
                              <small>{{lastUpdateDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{changeLogDesc.label + (changeLogDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <input class="uk-input" type="text" formControlName="changeLog"
                                   [ngClass]="{'uk-form-danger': !serviceForm.get('changeLog').valid && serviceForm.get('changeLog').dirty}">
                            <i>
                              <small>{{changeLogDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div formArrayName="certifications" class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{certificationsDesc.label + (certificationsDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <div *ngFor="let provider of getFieldAsFormArray('certifications').controls; let i=index">
                              <input class="uk-input uk-width-5-6" type="text" [formControlName]="i"
                                     [ngClass]="{'uk-form-danger': !getFieldAsFormArray('certifications').get([i]).valid && getFieldAsFormArray('certifications').get([i]).dirty}">
                              <a *ngIf="getFieldAsFormArray('certifications').length > 1"
                                 class="remove-element uk-padding-small" (click)="remove('certifications', i)">
                                <i class="fa fa-times" aria-hidden="true"></i>
                              </a>
                            </div>
                            <div class="uk-width-1-1">
                              <a class="add-new-element" (click)="push('certifications', false, false)">
                                <i class="fa fa-plus" aria-hidden="true"></i> Add {{certificationsDesc.label}}
                              </a>
                            </div>
                            <i>
                              <small>{{certificationsDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div formArrayName="standards" class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{standardsDesc.label + (standardsDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <div *ngFor="let provider of getFieldAsFormArray('standards').controls; let i=index">
                              <input class="uk-input uk-width-5-6" type="text" [formControlName]="i"
                                     [ngClass]="{'uk-form-danger': !getFieldAsFormArray('standards').get([i]).valid && getFieldAsFormArray('standards').get([i]).dirty}">
                              <a *ngIf="getFieldAsFormArray('standards').length > 1"
                                 class="remove-element uk-padding-small" (click)="remove('standards', i)">
                                <i class="fa fa-times" aria-hidden="true"></i>
                              </a>
                            </div>
                            <div class="uk-width-1-1">
                              <a class="add-new-element" (click)="push('standards', false, false)">
                                <i class="fa fa-plus" aria-hidden="true"></i> Add {{standardsDesc.label}}
                              </a>
                            </div>
                            <i>
                              <small>{{standardsDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                      </li>
                      <li accordionSection class="uk-margin-large-bottom" [title]="'Contractual Information'">
                        <div *ngIf="orderTypeVocabulary" class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{orderTypeDesc.label + (orderTypeDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <select formControlName="orderType" class="uk-select"
                                    [ngClass]="{'uk-form-danger': !serviceForm.get('orderType').valid && serviceForm.get('orderType').dirty}">
                              <option *ngFor="let entry of sortVocabulariesByName(orderTypeVocabulary)"
                                      value="{{entry.id}}">
                                {{entry.name}}
                              </option>
                            </select>
                            <i>
                              <small>{{orderTypeDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{orderDesc.label + (orderDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <input class="uk-input" type="text" formControlName="order"
                                   [ngClass]="{'uk-form-danger': !serviceForm.get('order').valid && serviceForm.get('order').dirty}">
                            <i>
                              <small>{{orderDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{serviceLevelAgreementDesc.label + (serviceLevelAgreementDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <input class="uk-input" type="text" formControlName="sla"
                                   [ngClass]="{'uk-form-danger': !serviceForm.get('sla').valid && serviceForm.get('sla').dirty}">
                            <i>
                              <small>{{serviceLevelAgreementDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{termsOfUseDesc.label + (termsOfUseDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <input class="uk-input" type="text" formControlName="termsOfUse"
                                   [ngClass]="{'uk-form-danger': !serviceForm.get('termsOfUse').valid && serviceForm.get('termsOfUse').dirty}">
                            <i>
                              <small>{{termsOfUseDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{privacyPolicyDesc.label + (privacyPolicyDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <input class="uk-input" type="text" formControlName="privacyPolicy"
                                   [ngClass]="{'uk-form-danger': !serviceForm.get('privacyPolicy').valid && serviceForm.get('privacyPolicy').dirty}">
                            <i>
                              <small>{{privacyPolicyDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{accessPolicyDesc.label + (accessPolicyDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <input class="uk-input" type="text" formControlName="accessPolicy"
                                   [ngClass]="{'uk-form-danger': !serviceForm.get('accessPolicy').valid && serviceForm.get('accessPolicy').dirty}">
                            <i>
                              <small>{{accessPolicyDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{paymentModelDesc.label + (paymentModelDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <input class="uk-input" type="text" formControlName="paymentModel"
                                   [ngClass]="{'uk-form-danger': !serviceForm.get('paymentModel').valid && serviceForm.get('paymentModel').dirty}">
                            <i>
                              <small>{{paymentModelDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{pricingDesc.label + (pricingDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <input class="uk-input" type="text" formControlName="pricing"
                                   [ngClass]="{'uk-form-danger': !serviceForm.get('pricing').valid && serviceForm.get('pricing').dirty}">
                            <i>
                              <small>{{pricingDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                      </li>
                      <li accordionSection class="uk-margin-large-bottom" [title]="'Support Information'">
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{manualDesc.label + (manualDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <input class="uk-input" type="text" formControlName="manual"
                                   [ngClass]="{'uk-form-danger': !serviceForm.get('manual').valid && serviceForm.get('manual').dirty}">
                            <i>
                              <small>{{manualDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{trainingDesc.label + (trainingDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <input class="uk-input" type="text" formControlName="training"
                                   [ngClass]="{'uk-form-danger': !serviceForm.get('training').valid && serviceForm.get('training').dirty}">
                            <i>
                              <small>{{trainingDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{helpdeskDesc.label + (helpdeskDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <input class="uk-input" type="text" formControlName="helpdesk"
                                   [ngClass]="{'uk-form-danger': !serviceForm.get('helpdesk').valid && serviceForm.get('helpdesk').dirty}">
                            <i>
                              <small>{{helpdeskDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{monitoringDesc.label + (monitoringDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <input class="uk-input" type="text" formControlName="monitoring"
                                   [ngClass]="{'uk-form-danger': !serviceForm.get('monitoring').valid && serviceForm.get('monitoring').dirty}">
                            <i>
                              <small>{{monitoringDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{maintenanceDesc.label + (maintenanceDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <input class="uk-input" type="text" formControlName="maintenance"
                                   [ngClass]="{'uk-form-danger': !serviceForm.get('maintenance').valid && serviceForm.get('maintenance').dirty}">
                            <i>
                              <small>{{maintenanceDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                      </li>
                      <li accordionSection class="uk-margin-large-bottom" [title]="'Contact Information'">
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{ownerNameDesc.label + (ownerNameDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <input class="uk-input" type="text" formControlName="ownerName"
                                   [ngClass]="{'uk-form-danger': !serviceForm.get('ownerName').valid && serviceForm.get('ownerName').dirty}">
                            <i>
                              <small>{{ownerNameDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{ownerContactDesc.label + (ownerContactDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <input class="uk-input" type="text" formControlName="ownerContact"
                                   [ngClass]="{'uk-form-danger': !serviceForm.get('ownerContact').valid && serviceForm.get('ownerContact').dirty}">
                            <i>
                              <small>{{ownerContactDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{supportNameDesc.label + (supportNameDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <input class="uk-input" type="text" formControlName="supportName"
                                   [ngClass]="{'uk-form-danger': !serviceForm.get('supportName').valid && serviceForm.get('supportName').dirty}">
                            <i>
                              <small>{{supportNameDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{supportContactDesc.label + (supportContactDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <input class="uk-input" type="text" formControlName="supportContact"
                                   [ngClass]="{'uk-form-danger': !serviceForm.get('supportContact').valid && serviceForm.get('supportContact').dirty}">
                            <i>
                              <small>{{supportContactDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{securityNameDesc.label + (securityNameDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <input class="uk-input" type="text" formControlName="securityName"
                                   [ngClass]="{'uk-form-danger': !serviceForm.get('securityName').valid && serviceForm.get('securityName').dirty}">
                            <i>
                              <small>{{securityNameDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                        <div class="uk-form-horizontal uk-margin-bottom">
                          <label class="uk-width-1-5 uk-form-label uk-text-right">
                            {{securityContactDesc.label + (securityContactDesc.mandatory ? ' (*)' : '')}}
                          </label>
                          <div class="uk-width-4-5 uk-form-controls">
                            <input class="uk-input" type="text" formControlName="securityContact"
                                   [ngClass]="{'uk-form-danger': !serviceForm.get('securityContact').valid && serviceForm.get('securityContact').dirty}">
                            <i>
                              <small>{{securityContactDesc.desc}}</small>
                            </i>
                          </div>
                        </div>
                      </li>

                      <li accordionSection class="uk-margin-large-bottom" [title]="'Indicators'">

                        <form class="uk-form-horizontal uk-margin-small-bottom" [formGroup]="measurementForm">
                          <div formArrayName="measurements">
                            <div *ngFor="let measurement of measurementForm['controls'].measurements['controls']; let i=index">
                              <div formGroupName="{{i}}" class="uk-margin-small-bottom" style="border: 1px dashed #cccccc; padding: 15px">
                                <div uk-grid>
                                  <div class="uk-width-1-5"></div>
                                  <div class="uk-width-4-5 uk-form-controls">
                                    <label style="color: #214C9C; letter-spacing: 1.5px; font-size: 15px"> Measurement
                                      <a (click)="removeFroMeasurements(i)">
                                        <i class="fa fa-times" aria-hidden="true"></i></a>
                                    </label>
                                  </div>
                                </div>
                                <div class="uk-form-horizontal uk-margin-bottom">
                                  <label class="uk-width-1-5 uk-form-label uk-text-right" for="indicatorId">Indicator
                                    name: </label>
                                  <div class="uk-width-4-5 uk-form-controls">
                                    <select *ngIf="indicators" class="uk-select" id="indicatorId"
                                            (change)="onIndicatorSelect($event, i)" formControlName="indicatorId"
                                            [ngClass]="{'uk-form-danger': !measurements.controls[i].get('indicatorId').valid && measurements.controls[i].get('indicatorId').dirty}">
                                      <option value="" selected>--select indicator--</option>
                                      <option *ngFor="let indicator of indicators.results"
                                              title="{{indicator.description}}"
                                              value="{{indicator.id}}">{{indicator.name}}</option>
                                    </select>
                                    <i>
                                      <small>{{indicatorDesc}}</small>
                                    </i>
                                  </div>
                                </div>
                                <div *ngIf="measurements.controls[i].get('locations').status != 'DISABLED'"
                                     formArrayName="locations">
                                  <div class="uk-form-horizontal uk-margin-bottom">
                                    <label class="uk-width-1-5 uk-form-label uk-text-right">Choose Locations: </label>
                                    <div class="uk-width-4-5 uk-form-controls">
                                      <div *ngFor="let location of locations(i)['controls']; let locIndex=index"
                                           class="">
                                        <select class="uk-select uk-width-5-6@m" [formControlName]="locIndex"
                                                [ngClass]="{'uk-form-danger': !locations(i).get([locIndex]).valid && locations(i).get([locIndex]).dirty}">
                                          <ng-container *ngIf="placesVocabulary">
                                            <option
                                              *ngFor="let placeEntry of placesVocIdArray | premiumsort:['EU','WW']"
                                              value="{{getVocabularyById(placesVocabulary, placeEntry).id}}">
                                              {{getVocabularyById(placesVocabulary, placeEntry).name}}
                                            </option>
                                          </ng-container>
                                        </select>
                                        <a *ngIf="locations(i).length > 1" class="remove-element uk-padding-small"
                                           (click)="removeFromLocations(i, locIndex)">
                                          <i class="fa fa-times" aria-hidden="true"></i>
                                        </a>
                                      </div>
                                      <div class="">
                                        <a class="add-new-element" (click)="pushToLocations(i)"
                                           style="font-weight: unset">
                                          <i class="fa fa-plus" aria-hidden="true"></i> Add location
                                        </a>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div *ngIf="measurements.controls[i].get('time').status != 'DISABLED'"
                                     class="uk-form-horizontal uk-margin-bottom">
                                  <label class="uk-width-1-5 uk-form-label uk-text-right" for="date">Date: </label>
                                  <div class="uk-width-4-5 uk-form-controls">
                                    <input class="uk-input" id="date" type="date" formControlName="time"
                                           [ngClass]="{'uk-form-danger': !measurements.controls[i].get('time').valid && measurements.controls[i].get('time').dirty}">
                                  </div>
                                </div>
                                <div class="uk-form-horizontal uk-margin-bottom">
                                  <div class="uk-width-1-5 uk-form-label uk-text-right">Value Type:</div>
                                  <div class="uk-form-controls uk-form-controls-text">
                                    <label><input class="uk-radio" type="radio" value="false" checked="checked"
                                                  formControlName="valueIsRange"
                                                  (change)="handleChange($event, i)"> Single</label><br>
                                    <label><input class="uk-radio" type="radio" value="true"
                                                  formControlName="valueIsRange"
                                                  (change)="handleChange($event, i)"> Range</label>
                                  </div>
                                </div>
                                <div *ngIf="measurements.controls[i].get('valueIsRange').value === 'false'"
                                     class="uk-form-horizontal uk-margin-bottom">
                                  <label class="uk-width-1-5 uk-form-label uk-text-right" for="value">Value: </label>
                                  <div class="uk-width-4-5 uk-form-controls">
                                    <input class="uk-input" id="value" type="text" formControlName="value"
                                           [ngClass]="{'uk-form-danger': !measurements.controls[i].get('value').valid && measurements.controls[i].get('value').dirty}">
                                  </div>
                                </div>
                                <div *ngIf="measurements.controls[i].get('valueIsRange').value === 'true'"
                                     formGroupName="rangeValue">
                                  <div class="uk-form-horizontal uk-margin-bottom">
                                    <label class="uk-width-1-5 uk-form-label uk-text-right" for="from">From: </label>
                                    <div class="uk-width-4-5 uk-form-controls">
                                      <input class="uk-input" id="from" type="text" formControlName="fromValue"
                                             [ngClass]="{'uk-form-danger': !measurements.controls[i].get('rangeValue.fromValue').valid && measurements.controls[i].get('rangeValue.fromValue').dirty}">
                                    </div>
                                  </div>
                                  <div class="uk-form-horizontal uk-margin-bottom">
                                    <label class="uk-width-1-5 uk-form-label uk-text-right" for="to">To: </label>
                                    <div class="uk-width-4-5 uk-form-controls">
                                      <input class="uk-input" id="to" type="text" formControlName="toValue"
                                             [ngClass]="{'uk-form-danger': !measurements.controls[i].get('rangeValue.toValue').valid && measurements.controls[i].get('rangeValue.toValue').dirty}">
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div uk-grid>
                            <div class="uk-width-1-5"></div>
                            <div class="uk-width-4-5 uk-form-controls">
                              <a class="add-new-element" (click)="pushToMeasurements()"
                                 style="color: #214C9C; letter-spacing: 1.5px; font-size: 15px">
                                <i class="fa fa-plus" aria-hidden="true"></i> Add measurement
                              </a>
                            </div>
                          </div>
                        </form>
<!--                        <pre>{{measurementForm.value | json}}</pre>-->
                      </li>
                    </ul>

                    <button type="submit" class="btn btn-primary butn theme block full-width m-b">{{editMode ? "Update" : "Add"}}
                    </button>
                  </form>

<!--                  <pre>{{serviceForm.value | json}}</pre>-->
                </div>
              </div>
              <!-- RIGHT HELP CONTENT -->
              <app-aside-help-content #rightHelperContent [position]="'right'"
                                      [ngClass]="rightHelperContent.isPresent()?'tm-sidebar uk-width-1-4@m uk-first-column':'clear-style'">
              </app-aside-help-content>
            </div>
          </div>
          <!-- BOTTOM HELP CONTENT -->
          <app-help-content #bottomHelperContent [position]="'bottom'"
                            [ngClass]="bottomHelperContent.isPresent()?'uk-margin-medium-top uk-margin-medium-bottom':'clear-style'">
          </app-help-content>
        </div>
      </div>
    </div>
  </div>
</div>
